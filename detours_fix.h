#define NOWINBASEINTERLOCK  
#include <intrin.h>  
#pragma intrinsic(_InterlockedExchangeAdd)  
#pragma intrinsic(_InterlockedCompareExchange)  
#pragma intrinsic(_InterlockedCompareExchange64) 
